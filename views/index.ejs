<!DOCTYPE html>
<html lang="en">

<head>
   <%- include('__externallink.ejs')%>
      <%- include('__externalscriptlink.ejs')%>
         <%- include('_bootstrap.ejs')%>

            <style>
               img {
                  margin-top: 10px;
                  padding: 25px;
                  /* height: 20vh; */
                  /* width: 80%; */
                  display: block;
                  margin-left: auto;
                  margin-right: auto;
                  /* box-shadow: 0px 0px 4px blue; */
                  border-radius: 10%;
               }

               .click {
                  background-color: white;
                  border: 1px solid black;
                  border-radius: 50%;
                  /* border: none; */
                  margin-left: 230px;
                  /* margin-bottom: 10px; */
                  height: 8%;
                  width: 12%;
                  box-shadow: 0px 0px 5px black;

               }

               .image {
                  margin-top: 20px;
                  /* padding: 25px; */
                  box-shadow: 2px 1px grey;
                  height: 200px;
                  width: 100%;
                  display: block;
                  margin-left: auto;
                  margin-right: auto;
                  border-radius: 2%;
                  /* width: 50%; */

               }

               .image:hover {
                  transition: 1s;
                  border-radius: 2%;
                  /* rotate: 360deg; */
                  box-shadow: 4px 4px 4px blue;
               }

               .mainbox {
                  cursor: pointer;
               }

               .mainbox:hover {
                  transition: 1s;
                  border-radius: 2%;
                  /* rotate: 360deg; */
                  box-shadow: 4px 4px 4px blue;

               }

               .innerdiv {
                  border-top-left-radius: calc(0.25rem - 1px);
                  border-top-right-radius: calc(0.25rem - 1px);
               }

               a {
                  color: white;
               }

               .section {
                  /* min-height: 450px; */
                  border-radius: 10px;
                  width: 1300px;
                  margin-top: -8px;
                  height: 500px;
                  margin-left: 30px;
                  /* background: #98bce0; */
                  /* position: relative; */
               }

               .checked {
                  color: orange;
               }

               .customerholder {
                  cursor: pointer;
                  height: auto;
                  width: 15.8rem;
                  /* background-color: white; */
                  float: left;
                  /* border-radius: 8%; */
                  transition: 0.5s;
                  box-shadow: 4px 4px 10px blue;
               }

               .customerholder:hover {
                  transform: scale(1.1);
                  transition: 1s;
                  border-radius: 8%;
                  box-shadow: 4px 4px 4px blue;
               }

               /* body {
                  background-color: #111;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  min-height: 100vh;
               } */

               .waviy {
                  position: relative;
               }

               .waviy span {
                  position: relative;
                  display: inline-block;
                  font-size: 40px;
                  color: #114bc9;
                  text-transform: uppercase;
                  animation: flip 3s infinite;
                  animation-delay: calc(.1s * var(--i))
               }

               @keyframes flip {

                  0%,
                  80% {
                     transform: rotateY(360deg)
                  }
               }
            </style>
            <title>E-commerce</title>
</head>

<body>
   <div>
      <%-include('_topbar.ejs')%>
   </div>
   
   <hr class="top" style="border: 3px solid #2874f0;">
   <center>
      <b><i style="font-size: 26px;"><span class="Tagline"> A Different Kind Of Company. A Different Kind Of
               Ecommerce.</span></i></b>
   </center>
   <hr style="border: 3px solid #2874f0;">
   <!-- Carousel wrapper -->
   <div id="carouselVideoExample" class=" mt-2 carousel slide carousel-fade" data-mdb-ride="carousel">
      <!-- Indicators -->
      <div class="carousel-indicators">
         <button type="button" data-mdb-target="#carouselVideoExample" data-mdb-slide-to="0" class="active"
            aria-current="true" aria-label="Slide 1"></button>
         <button type="button" data-mdb-target="#carouselVideoExample" data-mdb-slide-to="1"
            aria-label="Slide 2"></button>
         <button type="button" data-mdb-target="#carouselVideoExample" data-mdb-slide-to="2"
            aria-label="Slide 3"></button>
      </div>

      <!-- Inner -->
      <div class="carousel-inner">
         <!-- Single item -->
         <div class="carousel-item active" style="margin-top: -30px;">
            <img src="https://techstory.in/wp-content/uploads/2021/09/Flipkart-Big-Billion-Days-2021.jpg"
               style="height: 550px;width: 100%; border-radius: 10px;" alt="">
            <!-- <div class="carousel-caption d-none d-md-block">
               <input type="text">
            </div> -->
         </div>

         <!-- Single item -->
         <div class="carousel-item">
            <img src="https://techstory.in/wp-content/uploads/2021/09/Flipkart-Big-Billion-Days-2021.jpg"
               style="height: 550px;width: 100%; border-radius: 10px; background-repeat: no-repeat;" alt="">
            <div class="carousel-caption d-none d-md-block">
               </p>
            </div>
         </div>

         <!-- Single item -->
         <div class="carousel-item">
            <!-- <img src="https://techstory.in/wp-content/uploads/2021/09/Flipkart-Big-Billion-Days-2021.jpg" -->
            <!-- style="height: 550px;width: 100%; border-radius: 10px; background-repeat: no-repeat;" alt=""> -->
            <div class="carousel-caption d-none d-md-block">

            </div>
         </div>
      </div>
      <!-- Inner -->

      <!-- Controls -->
      <button class="carousel-control-prev" type="button" data-mdb-target="#carouselVideoExample" data-mdb-slide="prev">
         <span class="carousel-control-prev-icon" aria-hidden="true"></span>
         <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-mdb-target="#carouselVideoExample" data-mdb-slide="next">
         <span class="carousel-control-next-icon" aria-hidden="true"></span>
         <span class="visually-hidden">Next</span>
      </button>
   </div>
   <!-- Carousel wrapper -->
   </div>
   </div>
   <section>
      </div>
      <hr style="border: 3px solid #2874f0;">
      <center>
         <!-- <b><i style="font-size: 26px;"><span class="Tagline"> FEATURED PRODUCT..</span></i></b> -->
         <div class="waviy">
            <span style="--i:1">C</span>
            <span style="--i:2">A</span>
            <span style="--i:3">T</span>
            <span style="--i:4">E</span>
            <span style="--i:5">G</span>
            <span style="--i:6">O</span>
            <span style="--i:7">R</span>
            <span style="--i:8">Y</span>
            <span style="--i:8">-</span>
            <span style="--i:9">F</span>
            <span style="--i:10">O</span>
            <span style="--i:11">R</span>
            <span style="--i:12">-</span>
            <span style="--i:13">Y</span>
            <span style="--i:14">O</span>
            <span style="--i:15">U</span>
         </div>
      </center>
      <hr style="border: 3px solid #2874f0;">
      <div class="bg-primary">
         <p>
            <button class="btn btn-primary Category " type="button" data-toggle="collapse" data-target=".multi-collapse"
               aria-expanded="false" aria-controls="multiCollapseExample1 multiCollapseExample2"> <center> <b> Category</b></center></button>
         </p>
         <div class="row">
            <div class="col">
               <div class="collapse multi-collapse" id="multiCollapseExample1">
                  <div class="card card-body">
                     Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil
                     anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
                  </div>
               </div>
            </div>
            <div class="col">
               <div class="collapse multi-collapse" id="multiCollapseExample2">
                  <div class="card card-body">
                     Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil
                     anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
                  </div>
               </div>
            </div>
         </div>
      </div>
      <hr style="border: 3px solid #2874f0;">
      <center>
         <!-- <b><i style="font-size: 26px;"><span class="Tagline"> FEATURED PRODUCT..</span></i></b> -->
         <div class="waviy">
            <span style="--i:1">F</span>
            <span style="--i:2">E</span>
            <span style="--i:3">A</span>
            <span style="--i:4">T</span>
            <span style="--i:5">U</span>
            <span style="--i:6">R</span>
            <span style="--i:7">E</span>
            <span style="--i:8">D</span>
            <span style="--i:8">-</span>
            <span style="--i:9">P</span>
            <span style="--i:10">R</span>
            <span style="--i:11">O</span>
            <span style="--i:12">D</span>
            <span style="--i:13">U</span>
            <span style="--i:14">C</span>
            <span style="--i:15">T</span>
         </div>
      </center>
      <hr style="border: 3px solid #2874f0;">

      <div class="container">
         <div class="row">
            <%productList.map((product,index)=>{%>
               <div style="height: 500px;" class="col-md-3 p-0.7">

                  <div class="mainbox" style="  height: 400px; box-shadow: 0px 0px 10px blue; ">
                     <div>
                     </div>
                     <div class="image"><img src="<%=product.thumbnail%>"
                           style="width:100%;
                                 height: 200px; font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;" />

                     </div>
                     <br>



                     <h3 class=" text-dark text-center p-0">
                        <%=product.title.substring(0,15)%>

                     </h3>

                     <center style="color: goldenrod;">
                        <i class="fa fa-star text-center"></i>
                        <i class="fa fa-star text-center"></i>
                        <i class="fa fa-star text-center"></i>
                        <i class="fa fa-star text-center"></i>
                        <i class="fa fa-star text-center"></i>
                     </center>

                     <p class="text-center" style="font-size: 20px;">
                        <!-- Price -->
                        <%if(product.discountPercentage){%>
                           <del class="text-danger">
                              <%=product.price%>
                           </del>
                           <span
                              class="text-dark"><%=Math.round(product.price-((product.price*product.discountPercentage)
                                 /100))%> ₹.</span>
                           <%}else{%>
                              <span class="text-dark"> Price :
                                 <%=product.price%> Rs.
                              </span>
                              <%}%>
                                 <br>
                                 <span>
                                    <!-- <%=product.discription.substring(0,15)%> -->
                     </p>
                     <!-- <a>
                                 <h3 style="cursor:pointer;" class="text-center mt-2 mb-3">View
                                    description</h3>
                              </a> -->
                     <div class="d-flex m-4">
                        <%if(currentUser){%>

                           <a href="/product/view/<%=product.id%>">
                              <button style="width:100%;padding-left: 10px; border-radius: 1rem;"
                                 class="btn btn-warning mb-3">View
                                 More</button>
                           </a>
                           <br>
                           &nbsp;
                           &nbsp;
                           &nbsp;
                           <br>
                           <a onclick="addInToCart('<%=currentUser.id*1+1543%>','<%=product.id*1 + 2567%>')">
                              <button style="width:100%;padding-left: 10px; border-radius: 1rem; "
                                 class="btn btn-primary mb-3">
                                 <span class=" glyphicon fa fa-cart-shopping"></span> Add-cart
                              </button>
                           </a>
                           <%}else{%>

                              <a href=" /product/view/<%=product.id%>">
                                 <button style="width:100%;padding-left: 10px; border-radius: 1rem;"
                                    class="btn btn-warning mb-3">View
                                    More</button>
                              </a>
                              &nbsp;
                              &nbsp;
                              &nbsp;
                              <a href="/cart/add-to-cart/''/''">
                                 <button style="width:100%; padding-left: 10px; border-radius: 1rem; "
                                    class="btn btn-primary mb-4">Add
                                    Cart</button>
                              </a>
                              <%}%>
                     </div>
                     <hr style="border: 3px solid #2874f0;">

                  </div>
               </div>

               <%})%>
         </div>
      </div>

      </footer>
      <!-- Footer -->
      <!-- Footer -->
      <script>
         function addInToCart(userId, productId) {
            var xhttp = new XMLHttpRequest();
            xhttp.open("GET", "/cart/add-to-cart/" + userId + "/" + productId, true);
            xhttp.send();
            xhttp.onreadystatechange = function () {
               if (xhttp.readyState == 4) {
                  let data = JSON.parse(xhttp.responseText);
                  window.alert(data.message);
               }
            }
         }
         function hide(gotID) {
            alert("function called");
            gotID.remove();
         }

      </script>
      <script>
         var count = 0;
         const toggle = document.getElementById('toggleDark');
         const body = document.querySelector('body');

         toggle.addEventListener('click', function () {
            this.classList.toggle('bi-moon');
            if (this.classList.toggle('bi-brightness-high-fill')) {
               body.style.background = 'white';
               body.style.color = 'black';
               body.style.transition = '2s';
            } else {
               body.style.background = 'black';
               body.style.color = 'white';
               body.style.boxShadow = '4px 4px 4px 10px blue';
               body.style.transition = '2s';
            }
         });
      </script>


</body>

</html>